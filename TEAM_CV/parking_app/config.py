# -*- coding: utf-8 -*-
from pathlib import Path
from typing import List, Dict, Tuple

# ----- Paths -----
ROOT = Path(__file__).resolve().parents[1]
TEMPLATES_DIR = ROOT / "templates"
STATIC_DIR = ROOT / "static"
ASSETS_DIR = STATIC_DIR / "assets";  ASSETS_DIR.mkdir(parents=True, exist_ok=True)
UPLOAD_DIR = ROOT / "uploads";       UPLOAD_DIR.mkdir(parents=True, exist_ok=True)
FLOORPLAN_PATH = ASSETS_DIR / "parking.png"

# ----- YOLO Config -----
YOLO_CFG = {
    "weights": r"C:\\Users\\7johs\\Desktop\\ADV\\runs_yolo11\\y11n_parking\\weights\\best.pt",
    "device": "cpu",
    "conf": 0.25, "iou": 0.6,
    "imgsz": 512,
    "empty_labels": ["empty"],
    "occupied_labels": ["occupied"],
    "FRAME_SKIP": 7,
}

# ----- Slots / Regions -----
FLOORPLAN_YOLO = [
    (0, 0.123750, 0.188750, 0.040833, 0.237500),
    (1, 0.185417, 0.188750, 0.040833, 0.237500),
    (2, 0.245417, 0.188750, 0.040833, 0.237500),
    (3, 0.347083, 0.183750, 0.040833, 0.237500),
    (4, 0.407917, 0.186250, 0.040833, 0.237500),
    (5, 0.468750, 0.186250, 0.040833, 0.237500),
    (6, 0.571250, 0.188750, 0.040833, 0.237500),
    (7, 0.631250, 0.186250, 0.040833, 0.237500),
    (8, 0.692083, 0.183750, 0.040833, 0.237500),
    (9, 0.793750, 0.186250, 0.040833, 0.237500),
    (10, 0.854583, 0.186250, 0.040833, 0.237500),
    (11, 0.915417, 0.188750, 0.040833, 0.237500),
    (12, 0.123750, 0.821250, 0.040833, 0.237500),
    (13, 0.184583, 0.823750, 0.040833, 0.237500),
    (14, 0.245417, 0.823750, 0.040833, 0.237500),
    (15, 0.347083, 0.826250, 0.040833, 0.237500),
    (16, 0.407917, 0.823750, 0.040833, 0.237500),
    (17, 0.468750, 0.826250, 0.040833, 0.237500),
    (18, 0.570417, 0.823750, 0.040833, 0.237500),
    (19, 0.631250, 0.823750, 0.040833, 0.237500),
    (20, 0.692083, 0.823750, 0.040833, 0.237500),
    (21, 0.793750, 0.823750, 0.040833, 0.237500),
    (22, 0.854583, 0.823750, 0.040833, 0.237500),
    (23, 0.915417, 0.821250, 0.040833, 0.237500),
]

VIDEO_YOLO = [
 (0, 0.038779, 0.666996, 0.066557, 0.162055),
 (1, 0.128163, 0.713933, 0.084708, 0.143281),
 (2, 0.230748, 0.737648, 0.088559, 0.149209),
 (3, 0.398790, 0.711462, 0.151815, 0.247036),
 (4, 0.633113, 0.827075, 0.212321, 0.237154),
 (5, 0.881738, 0.849802, 0.209021, 0.249012),
 (6, 0.041325, 0.606863, 0.073892, 0.198039),
 (7, 0.108648, 0.650980, 0.054187, 0.111765),
 (8, 0.201970, 0.641176, 0.125889, 0.176471),
 (9, 0.362069, 0.683333, 0.151615, 0.260784),
 (10, 0.559661, 0.731373, 0.226054, 0.250980),
 (11, 0.838807, 0.757843, 0.297209, 0.274510),
 (12, 0.970831, 0.641240, 0.058338, 0.123031),
 (13, 0.897083, 0.663386, 0.078151, 0.129921),
 (14, 0.792515, 0.678150, 0.124381, 0.163386),
 (15, 0.609246, 0.710630, 0.189323, 0.187008),
 (16, 0.414695, 0.738189, 0.192075, 0.253937),
 (17, 0.157127, 0.762303, 0.305449, 0.317913),
 (18, 0.959532, 0.690217, 0.074940, 0.184783),
 (19, 0.884892, 0.739625, 0.064748, 0.095850),
 (20, 0.800659, 0.778162, 0.091727, 0.117589),
 (21, 0.649880, 0.814229, 0.148681, 0.223320),
 (22, 0.479317, 0.819664, 0.167266, 0.271739),
 (23, 0.240108, 0.801383, 0.290767, 0.351779),
]

REGION_MAP: Dict[str, List[int]] = {
    "cam0": [0,1,2,3,4,5],
    "cam1": [6,7,8,9,10,11],
    "cam2": [12,13,14,15,16,17],
    "cam3": [18,19,20,21,22,23],
}

ZONE_MAP: Dict[str, List[int]] = {
    "B2 26": list(range(0, 12)),
    "B2 27": list(range(12, 24)),
}
